{"version":3,"sources":["services.js","App.js","index.js"],"names":["baseURL","axios","get","then","response","data","personObject","post","id","put","delete","Notification","message","className","PersonsList","persons","handleDelete","length","map","person","key","name","number","onClick","e","Form","addPerson","newName","nameChangeHandler","newNumber","numberChangeHandler","onSubmit","value","onChange","required","type","Filter","searchValue","searchChange","filter","toLowerCase","indexOf","item","App","useState","setPersons","setNewName","setNewNumber","setSearchValue","setMessage","useEffect","personService","target","preventDefault","concat","window","confirm","updatePerson","find","updatedPerson","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.8b2f5102.chunk.js","sourcesContent":["import axios from \"axios\"\r\n\r\nconst baseURL = \"/api/persons\"\r\n\r\nconst getPersons = () => {\r\n    let request = axios.get(baseURL)\r\n    return request.then(response=>response.data)\r\n}\r\n\r\nconst createPerson = (personObject) => {\r\n    let request = axios.post(baseURL, personObject)\r\n    return request.then(response=>response.data)\r\n}\r\n\r\nconst updatePerson = (id, personObject) => {\r\n    let request = axios.put(`${baseURL}/${id}`, personObject)\r\n    return request.then(response=>response.data)\r\n}\r\n\r\nconst deletePerson = (id) => {\r\n    let request = axios.delete(`${baseURL}/${id}`)\r\n    return request.then(response=>response.data)\r\n}\r\n\r\nexport default {getPersons, createPerson, updatePerson, deletePerson}","import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\"\r\nimport personService from \"./services\";\r\n\r\n\r\nconst Notification = ({message}) => {\r\n    return message == \"\"? \"\" : (\r\n        <div className=\"message\">\r\n            {message}\r\n        </div>\r\n    )\r\n}\r\n\r\nconst PersonsList = ({persons, handleDelete}) => {\r\n    return(\r\n        <>\r\n        {persons.length > 0? persons.map((person) => {\r\n            return (\r\n                <li key={person.name}>\r\n                    {person.name} - {person.number} <button onClick={(e)=>handleDelete(person.id)}>delete</button>\r\n                </li>\r\n            );\r\n        }) : null}\r\n        </>\r\n    )\r\n}\r\n\r\nconst Form = ({addPerson, newName, nameChangeHandler, newNumber, numberChangeHandler}) => {\r\n    return (\r\n        <form onSubmit={addPerson}>\r\n                <div>\r\n                    name:{\" \"}\r\n                    <input\r\n                        value={newName}\r\n                        onChange={(e) => nameChangeHandler(e)}\r\n                        required\r\n                    />\r\n                    <div>\r\n                        number:{\" \"}\r\n                        <input\r\n                            type=\"number\"\r\n                            value={newNumber}\r\n                            onChange={numberChangeHandler}\r\n                            required\r\n                        />\r\n                    </div>\r\n                </div>\r\n                <div>\r\n                    <button type=\"submit\">add</button>\r\n                </div>\r\n            </form>\r\n    )\r\n}\r\n\r\nconst Filter = ({ persons, searchValue, searchChange }) => {\r\n    return (\r\n        <>\r\n            <input\r\n                type=\"text\"\r\n                value={searchValue}\r\n                onChange={searchChange}\r\n            ></input>\r\n            {searchValue.length > 0\r\n                ? persons\r\n                      .filter((person) => {\r\n                          return (\r\n                              person.name\r\n                                  .toLowerCase()\r\n                                  .indexOf(searchValue.toLowerCase()) >= 0\r\n                          );\r\n                      })\r\n                      .map((item) => (\r\n                          <li key={item.name}>\r\n                              {\" \"}\r\n                              {item.name} - {item.number}{\" \"}\r\n                          </li>\r\n                      ))\r\n                : \"\"}\r\n        </>\r\n    );\r\n};\r\n\r\nconst App = () => {\r\n    const [persons, setPersons] = useState([]);\r\n    const [newName, setNewName] = useState(\"\");\r\n    const [newNumber, setNewNumber] = useState(\"\");\r\n    const [searchValue, setSearchValue] = useState(\"\");\r\n    const [message, setMessage] = useState(\"\");\r\n\r\n    useEffect(()=>{\r\n        personService.getPersons()\r\n        .then(response=>setPersons(response))\r\n    },[])\r\n\r\n    const searchChange = (e) => {\r\n        setSearchValue(e.target.value);\r\n    };\r\n    const addPerson = (e) => {\r\n        e.preventDefault();\r\n        let checkName = persons.filter((person) => person.name === newName);\r\n        if (checkName.length <= 0) {\r\n            personService.createPerson({\r\n                name: newName, number:newNumber\r\n            })\r\n            .then(response=> {\r\n                setPersons(persons.concat(response))\r\n                setMessage(`${newName} added to DB`)\r\n            })\r\n            \r\n            setNewName(\"\");\r\n            setNewNumber(\"\");\r\n        } else {\r\n            if(window.confirm(`${newName} is already in the phonebook. Do you want to change old number with new one?`)){\r\n                let updatePerson = {name:newName,number:newNumber}\r\n                let {id} = persons.find(person=>person.name==updatePerson.name)\r\n                personService.updatePerson(id, updatePerson)\r\n                .then(updatedPerson=>setPersons(persons.map(person=>person.id !== id? person:updatedPerson)))\r\n            }\r\n        }\r\n    };\r\n\r\n    const nameChangeHandler = (e) => {\r\n        e.preventDefault();\r\n        setNewName(e.target.value);\r\n    };\r\n\r\n    const numberChangeHandler = (e) => {\r\n        e.preventDefault();\r\n        setNewNumber(e.target.value);\r\n    };\r\n\r\n    const handleDelete = (id) => {\r\n        let person = persons.find(person=>person.id == id)\r\n        if(window.confirm(`do you realy want to delete ${person.name}?`)){\r\n            personService.deletePerson(id)\r\n            .then(response => {\r\n                personService.getPersons()\r\n                .then(data => {\r\n                    setPersons(data)\r\n                    setMessage(`${person.name} deleted from DB`)\r\n                })\r\n            })\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <h2>Phonebook</h2>\r\n\r\n            <h3>Search</h3>\r\n            <Filter persons={persons} searchValue={searchValue} searchChange={searchChange} />\r\n            <h3>Add Person</h3>\r\n            <Notification message={message} />\r\n            <Form addPerson={addPerson} newName={newName} newNumber={newNumber} nameChangeHandler={nameChangeHandler} numberChangeHandler={numberChangeHandler} />\r\n            <h2>Numbers</h2>\r\n            <PersonsList persons={persons} handleDelete={handleDelete} />\r\n            \r\n        </div>\r\n    );\r\n};\r\n\r\nexport default App;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport \"./index.css\"\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}