(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{14:function(e,n,t){e.exports=t(37)},36:function(e,n,t){},37:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),u=t(13),c=t.n(u),o=t(3),l=t(2),i=t.n(l),m="/api/persons",f=function(){return i.a.get(m).then((function(e){return e.data}))},d=function(e){return i.a.post(m,e).then((function(e){return e.data}))},s=function(e,n){return i.a.put("".concat(m,"/").concat(e),n).then((function(e){return e.data}))},h=function(e){return i.a.delete("".concat(m,"/").concat(e)).then((function(e){return e.data}))},b=function(e){var n=e.message;return""==n?"":r.a.createElement("div",{className:"message"},n)},p=function(e){var n=e.persons,t=e.handleDelete;return r.a.createElement(r.a.Fragment,null,n.length>0?n.map((function(e){return r.a.createElement("li",{key:e.name},e.name," - ",e.number," ",r.a.createElement("button",{onClick:function(n){return t(e.id)}},"delete"))})):null)},E=function(e){var n=e.addPerson,t=e.newName,a=e.nameChangeHandler,u=e.newNumber,c=e.numberChangeHandler;return r.a.createElement("form",{onSubmit:n},r.a.createElement("div",null,"name:"," ",r.a.createElement("input",{value:t,onChange:function(e){return a(e)},required:!0}),r.a.createElement("div",null,"number:"," ",r.a.createElement("input",{type:"number",value:u,onChange:c,required:!0}))),r.a.createElement("div",null,r.a.createElement("button",{type:"submit"},"add")))},g=function(e){var n=e.persons,t=e.searchValue,a=e.searchChange;return r.a.createElement(r.a.Fragment,null,r.a.createElement("input",{type:"text",value:t,onChange:a}),t.length>0?n.filter((function(e){return e.name.toLowerCase().indexOf(t.toLowerCase())>=0})).map((function(e){return r.a.createElement("li",{key:e.name}," ",e.name," - ",e.number," ")})):"")},v=function(){var e=Object(a.useState)([]),n=Object(o.a)(e,2),t=n[0],u=n[1],c=Object(a.useState)(""),l=Object(o.a)(c,2),i=l[0],m=l[1],v=Object(a.useState)(""),w=Object(o.a)(v,2),C=w[0],O=w[1],j=Object(a.useState)(""),y=Object(o.a)(j,2),k=y[0],D=y[1],S=Object(a.useState)(""),N=Object(o.a)(S,2),H=N[0],P=N[1];Object(a.useEffect)((function(){f().then((function(e){return u(e)}))}),[]);return r.a.createElement("div",null,r.a.createElement("h2",null,"Phonebook"),r.a.createElement("h3",null,"Search"),r.a.createElement(g,{persons:t,searchValue:k,searchChange:function(e){D(e.target.value)}}),r.a.createElement("h3",null,"Add Person"),r.a.createElement(b,{message:H}),r.a.createElement(E,{addPerson:function(e){if(e.preventDefault(),t.filter((function(e){return e.name===i})).length<=0)d({name:i,number:C}).then((function(e){u(t.concat(e)),P("".concat(i," added to DB"))})),m(""),O("");else if(window.confirm("".concat(i," is already in the phonebook. Do you want to change old number with new one?"))){var n={name:i,number:C},a=t.find((function(e){return e.name==n.name})).id;s(a,n).then((function(e){return u(t.map((function(n){return n.id!==a?n:e})))}))}},newName:i,newNumber:C,nameChangeHandler:function(e){e.preventDefault(),m(e.target.value)},numberChangeHandler:function(e){e.preventDefault(),O(e.target.value)}}),r.a.createElement("h2",null,"Numbers"),r.a.createElement(p,{persons:t,handleDelete:function(e){var n=t.find((function(n){return n.id==e}));window.confirm("do you realy want to delete ".concat(n.name,"?"))&&h(e).then((function(e){f().then((function(e){u(e),P("".concat(n.name," deleted from DB"))}))}))}}))};t(36);c.a.render(r.a.createElement(v,null),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.8b2f5102.chunk.js.map